<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Snake Game</title>
<style>
body { background:#171717; display:flex; justify-content:center; align-items:center; height:100vh; }
canvas { background:#111; box-shadow:0 0 20px #0f0; }
</style>
</head>
<body>
<canvas id="game" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
let grid = 20;
let snake = [{ x:160, y:160 }];
let dx = grid;
let dy = 0;
let food = spawnFood();
let score = 0;

// ---- YILAN KAFASI RESMİ ----
const headImg = new Image();
headImg.src = "Yılan.jpeg"; // görsel ile aynı klasörde olmalı

function spawnFood() {
  return {
    x: Math.floor(Math.random() * 20) * grid,
    y: Math.floor(Math.random() * 20) * grid
  };
}

document.addEventListener("keydown", e => {
  if (e.key === "ArrowUp"   && dy === 0) { dy = -grid; dx = 0; }
  if (e.key === "ArrowDown" && dy === 0) { dy = grid;  dx = 0; }
  if (e.key === "ArrowLeft" && dx === 0) { dx = -grid; dy = 0; }
  if (e.key === "ArrowRight"&& dx === 0) { dx = grid;  dy = 0; }
});

function loop() {
  requestAnimationFrame(loop);
  if (++frame < 6) return;
  frame = 0;

  let head = { x: snake[0].x + dx, y: snake[0].y + dy };

  // çarpma kontrol
  if (head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height
      || snake.some(seg => seg.x === head.x && seg.y === head.y)) {
    alert("Game Over • Skor: " + score);
    location.reload();
  }

  snake.unshift(head);

  if (head.x === food.x && head.y === food.y) {
    score++;
    food = spawnFood();
  } else snake.pop();

  ctx.fillStyle = "#111";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // ----- YILAN BAŞI -----
  ctx.drawImage(headImg, snake[0].x, snake[0].y, grid, grid);

  // ----- YILAN GÖVDESİ -----
  ctx.fillStyle = "#0f0";
  snake.slice(1).forEach(s => ctx.fillRect(s.x, s.y, grid, grid));

  // ----- YEM -----
  ctx.fillStyle = "#f00";
  ctx.fillRect(food.x, food.y, grid, grid);
}

let frame = 0;
loop();
</script>
</body>
</html>
